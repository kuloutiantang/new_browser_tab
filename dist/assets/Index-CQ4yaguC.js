import{u as Z,r as m,a as se,o as ue,b as M,c as D,d as X,e as c,n as _,g as ye,f as be,t as we,h as ce,i as de,j as xe,k as me,l as ke,m as fe,w as V,p as Se,s as _e,q as L,v as Ce,x as Oe,y as Me,z as Ee,A as ee,B as re,C as K,D as j,E as Te,F as U,G,H as W,I as Q,J as P,K as g,L as Ae,M as De,N as Ne,O as Be,P as $e,Q as Fe,R as ie}from"./index-DHwe95z7.js";const We={__name:"BookmarkFolder",props:{data:{type:Object,required:!0},starting:{type:Object},quadrant:{type:Number}},emits:["onClose"],setup(e,{emit:n}){const t=n,o=Z(),i=m(null),l=m(!1),h=se("Control");ue(i,()=>{t("onClose")});const d=()=>{l.value=!0},r=()=>{l.value=!1};return(s,v)=>(M(),D("div",{style:_({top:e.starting.y+50+(e.quadrant==1||e.quadrant==4?45:-45)+"px",left:e.starting.x+50+(e.quadrant==1||e.quadrant==2?45:-45)+"px",width:e.starting.w-100+"px",height:e.starting.h-100+"px",borderRadius:c(o).config.body.folder.borderRadius,padding:c(o).config.body.folder.padding}),ref_key:"target",ref:i,class:"fixed base-shadow box-border bg-stone-300 bg-op-62 dark:bg-#000 dark:bg-op-62"},[X(pe,{data:e.data.children,onOnOpenChild:d,onOnCloseChild:r,candrag:!(l.value||c(h)),starting:e.starting,quadrant:e.quadrant==4?1:e.quadrant+1},null,8,["data","candrag","starting","quadrant"])],4))}};function te(e){return ye()?(be(e),!0):!1}function b(e){return typeof e=="function"?e():c(e)}const z=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const qe=Object.prototype.toString,ge=e=>qe.call(e)==="[object Object]",ne=()=>{},le=Le();function Le(){var e,n;return z&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((n=window==null?void 0:window.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Ve(e,n){function t(...o){return new Promise((i,l)=>{Promise.resolve(e(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(i).catch(l)})}return t}const ve=e=>e();function ze(e=ve){const n=m(!0);function t(){n.value=!1}function o(){n.value=!0}const i=(...l)=>{n.value&&e(...l)};return{isActive:ce(n),pause:t,resume:o,eventFilter:i}}function Pe(e){return Se()}function Re(...e){if(e.length!==1)return we(...e);const n=e[0];return typeof n=="function"?ce(de(()=>({get:n,set:ne}))):m(n)}function Je(e,n,t={}){const{eventFilter:o=ve,...i}=t;return V(e,Ve(o,n),i)}function je(e,n,t={}){const{eventFilter:o,...i}=t,{eventFilter:l,pause:h,resume:d,isActive:r}=ze(o);return{stop:Je(e,n,{...i,eventFilter:l}),pause:h,resume:d,isActive:r}}function He(e,n={}){if(!xe(e))return me(e);const t=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)t[o]=de(()=>({get(){return e.value[o]},set(i){var l;if((l=b(n.replaceRef))!=null?l:!0)if(Array.isArray(e.value)){const d=[...e.value];d[o]=i,e.value=d}else{const d={...e.value,[o]:i};Object.setPrototypeOf(d,Object.getPrototypeOf(e.value)),e.value=d}else e.value[o]=i}}));return t}function Ie(e,n=!0,t){Pe()?ke(e,t):n?e():fe(e)}function Ye(e){var n;const t=b(e);return(n=t==null?void 0:t.$el)!=null?n:t}const H=z?window:void 0;function q(...e){let n,t,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,o,i]=e,n=H):[n,t,o,i]=e,!n)return ne;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const l=[],h=()=>{l.forEach(v=>v()),l.length=0},d=(v,f,w,x)=>(v.addEventListener(f,w,x),()=>v.removeEventListener(f,w,x)),r=V(()=>[Ye(n),b(i)],([v,f])=>{if(h(),!v)return;const w=ge(f)?{...f}:f;l.push(...t.flatMap(x=>o.map(A=>d(v,x,A,w))))},{immediate:!0,flush:"post"}),s=()=>{r(),h()};return te(s),s}const R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J="__vueuse_ssr_handlers__",Xe=Ke();function Ke(){return J in R||(R[J]=R[J]||{}),R[J]}function Ue(e,n){return Xe[e]||n}function Ge(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Qe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},ae="vueuse-storage";function Ze(e,n,t,o={}){var i;const{flush:l="pre",deep:h=!0,listenToStorageChanges:d=!0,writeDefaults:r=!0,mergeDefaults:s=!1,shallow:v,window:f=H,eventFilter:w,onError:x=a=>{console.error(a)},initOnMounted:A}=o,k=(v?_e:m)(typeof n=="function"?n():n);if(!t)try{t=Ue("getDefaultStorage",()=>{var a;return(a=H)==null?void 0:a.localStorage})()}catch(a){x(a)}if(!t)return k;const N=b(n),p=Ge(N),S=(i=o.serializer)!=null?i:Qe[p],{pause:E,resume:T}=je(k,()=>F(k.value),{flush:l,deep:h,eventFilter:w});f&&d&&Ie(()=>{t instanceof Storage?q(f,"storage",u):q(f,ae,B),A&&u()}),A||u();function C(a,y){f&&!(t instanceof Storage)&&f.dispatchEvent(new CustomEvent(ae,{detail:{key:e,oldValue:a,newValue:y,storageArea:t}}))}function F(a){try{const y=t.getItem(e);if(a==null)C(y,null),t.removeItem(e);else{const O=S.write(a);y!==O&&(t.setItem(e,O),C(y,O))}}catch(y){x(y)}}function $(a){const y=a?a.newValue:t.getItem(e);if(y==null)return r&&N!=null&&t.setItem(e,S.write(N)),N;if(!a&&s){const O=S.read(y);return typeof s=="function"?s(O,N):p==="object"&&!Array.isArray(O)?{...N,...O}:O}else return typeof y!="string"?y:S.read(y)}function u(a){if(!(a&&a.storageArea!==t)){if(a&&a.key==null){k.value=N;return}if(!(a&&a.key!==e)){E();try{(a==null?void 0:a.newValue)!==S.write(k.value)&&(k.value=$(a))}catch(y){x(y)}finally{a?fe(T):T()}}}}function B(a){u(a.detail)}return k}function et(e,n={}){var t,o;const{pointerTypes:i,preventDefault:l,stopPropagation:h,exact:d,onMove:r,onEnd:s,onStart:v,initialValue:f,axis:w="both",draggingElement:x=H,containerElement:A,handle:k=e,buttons:N=[0]}=n,p=m((t=b(f))!=null?t:{x:0,y:0}),S=m(),E=u=>i?i.includes(u.pointerType):!0,T=u=>{b(l)&&u.preventDefault(),b(h)&&u.stopPropagation()},C=u=>{var B;if(!b(N).includes(u.button)||b(n.disabled)||!E(u)||b(d)&&u.target!==b(e))return;const a=b(A),y=(B=a==null?void 0:a.getBoundingClientRect)==null?void 0:B.call(a),O=b(e).getBoundingClientRect(),oe={x:u.clientX-(a?O.left-y.left+a.scrollLeft:O.left),y:u.clientY-(a?O.top-y.top+a.scrollTop:O.top)};(v==null?void 0:v(oe,u))!==!1&&(S.value=oe,T(u))},F=u=>{if(b(n.disabled)||!E(u)||!S.value)return;const B=b(A),a=b(e).getBoundingClientRect();let{x:y,y:O}=p.value;(w==="x"||w==="both")&&(y=u.clientX-S.value.x,B&&(y=Math.min(Math.max(0,y),B.scrollWidth-a.width))),(w==="y"||w==="both")&&(O=u.clientY-S.value.y,B&&(O=Math.min(Math.max(0,O),B.scrollHeight-a.height))),p.value={x:y,y:O},r==null||r(p.value,u),T(u)},$=u=>{b(n.disabled)||!E(u)||S.value&&(S.value=void 0,s==null||s(p.value,u),T(u))};if(z){const u={capture:(o=n.capture)!=null?o:!0};q(k,"pointerdown",C,u),q(x,"pointermove",F,u),q(x,"pointerup",$,u)}return{...He(p),position:p,isDragging:L(()=>!!S.value),style:L(()=>`left:${p.value.x}px;top:${p.value.y}px;`)}}function tt(e){var n;const t=b(e);return(n=t==null?void 0:t.$el)!=null?n:t}const nt=z?window:void 0;function ot(...e){let n,t,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,o,i]=e,n=nt):[n,t,o,i]=e,!n)return ne;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const l=[],h=()=>{l.forEach(v=>v()),l.length=0},d=(v,f,w,x)=>(v.addEventListener(f,w,x),()=>v.removeEventListener(f,w,x)),r=V(()=>[tt(n),b(i)],([v,f])=>{if(h(),!v)return;const w=ge(f)?{...f}:f;l.push(...t.flatMap(x=>o.map(A=>d(v,x,A,w))))},{immediate:!0,flush:"post"}),s=()=>{r(),h()};return te(s),s}const rt=Ce({name:"UseDraggable",props:["storageKey","storageType","initialValue","exact","preventDefault","stopPropagation","pointerTypes","as","handle","axis","onStart","onMove","onEnd","disabled","buttons"],setup(e,{slots:n}){const t=m(),o=L(()=>{var s;return(s=e.handle)!=null?s:t.value}),i=L(()=>!!e.disabled),l=e.storageKey&&Ze(e.storageKey,b(e.initialValue)||{x:0,y:0},z?e.storageType==="session"?sessionStorage:localStorage:void 0),h=l||e.initialValue||{x:0,y:0},r=Oe(et(t,{...e,handle:o,initialValue:h,onEnd:(s,v)=>{var f;(f=e.onEnd)==null||f.call(e,s,v),l&&(l.value.x=s.x,l.value.y=s.y)},disabled:i}));return()=>{if(n.default)return Me(e.as||"div",{ref:t,style:`touch-action:none;${r.style}`},n.default(r))}}});function I(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function he(e){const n=window.getComputedStyle(e);if(n.overflowX==="scroll"||n.overflowY==="scroll"||n.overflowX==="auto"&&e.clientWidth<e.scrollWidth||n.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const t=e.parentNode;return!t||t.tagName==="BODY"?!1:he(t)}}function it(e){const n=e||window.event,t=n.target;return he(t)?!1:n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)}const Y=new WeakMap;function lt(e,n=!1){const t=m(n);let o=null,i="";V(Re(e),d=>{const r=I(b(d));if(r){const s=r;if(Y.get(s)||Y.set(s,s.style.overflow),s.style.overflow!=="hidden"&&(i=s.style.overflow),s.style.overflow==="hidden")return t.value=!0;if(t.value)return s.style.overflow="hidden"}},{immediate:!0});const l=()=>{const d=I(b(e));!d||t.value||(le&&(o=ot(d,"touchmove",r=>{it(r)},{passive:!1})),d.style.overflow="hidden",t.value=!0)},h=()=>{const d=I(b(e));!d||!t.value||(le&&(o==null||o()),d.style.overflow=i,Y.delete(d),t.value=!1)};return te(h),L({get(){return t.value},set(d){d?l():h()}})}function at(){let e=!1;const n=m(!1);return(t,o)=>{if(n.value=o.value,e)return;e=!0;const i=lt(t,o.value);V(n,l=>i.value=l)}}at();const st={__name:"DraggableView",props:Ee({initialX:{type:Number,default:100},initialY:{type:Number,default:100},disabled:{type:Boolean,default:!1}},{x:{},xModifiers:{},y:{},yModifiers:{}}),emits:["update:x","update:y"],setup(e){const n=m(null),{x:t,y:o}=ee(n),i=re(e,"x"),l=re(e,"y");return i.value=t,l.value=o,(h,d)=>(M(),K(c(rt),{ref_key:"draggable",ref:n,"initial-value":{x:e.initialX,y:e.initialY},class:"fixed",disabled:e.disabled},{default:j(()=>[Te(h.$slots,"default")]),_:3},8,["initial-value","disabled"]))}},ut={key:0,class:"box-border relative w-full h-full flex flex-row flex-wrap justify-start items-start align-start"},ct=["onClick"],dt=["onClick"],pe={__name:"BookmarkList",props:{data:{type:Object,required:!0},starting:{type:Object},quadrant:{type:Number}},emits:["onOpenChild","onCloseChild"],setup(e,{emit:n}){const t=n,o=Z(),i=se("Control"),l=m(null),{x:h,y:d,width:r,height:s}=ee(l),v=k=>{k&&(o.config.openingMethod==="newTab"?window.open(k):o.config.openingMethod==="currentTab"&&(window.location.href=k))},f=m(!1),w=m({}),x=k=>{t("onOpenChild"),w.value=JSON.parse(JSON.stringify(k)),f.value=!0},A=()=>{t("onCloseChild"),f.value=!1};return(k,N)=>(M(),D("div",{ref_key:"listBox",ref:l,class:"box-border relative w-full h-full flex-auto",style:_({gap:c(o).config.body.list.gap})},[c(h)>0?(M(),D("div",ut,[(M(!0),D(U,null,G(e.data,(p,S)=>(M(),K(st,{key:S,"initial-x":c(h)+S*120,"initial-y":c(d),disabled:!c(i),style:_({cursor:c(i)?"move":"pointer"})},{default:j(()=>[p.iconType=="text"?(M(),D("div",{key:0,onClick:Q(E=>v(p.url),["exact"]),class:"box-border flex justify-center items-center base-shadow",style:_(p.styleText)},P(p.iconText),13,ct)):W("",!0),p.iconType=="view"?(M(),D("div",{key:1,onClick:Q(E=>x(p),["exact"]),class:"box-border p-2 bg-stone-300 bg-op-14 border-2px border-stone-600 border-solid dark:bg-#000 dark:bg-op-14 dark:border-2px dark:border-stone-400 dark:border-solid grid grid-cols-3 grid-rows-3 gap-1 base-shadow",style:_(p.styleFolder)},[(M(!0),D(U,null,G(p.children,(E,T)=>(M(),D("div",{key:T,class:"w-full h-full"},[E.iconType=="text"?(M(),D("div",{key:0,class:"w-full h-full text-12px flex justify-center items-center",style:_(E.innerStyleText)},[g("div",null,P(E.iconText[0]),1)],4)):W("",!0),E.iconType=="view"?(M(),D("div",{key:1,class:"box-border border-1px border-stone-500 border-solid w-full h-full text-12px flex justify-center items-center",style:_(E.innerStyleFolder)},P(E.title[0]),5)):W("",!0)]))),128))],12,dt)):W("",!0),g("div",{class:"text-center",style:_({fontSize:c(o).config.body.list.fontSize,lineHeight:c(o).config.body.list.lineHeight})},P(p.title),5)]),_:2},1032,["initial-x","initial-y","disabled","style"]))),128))])):W("",!0),f.value?(M(),K(We,{key:1,onOnClose:A,data:w.value,starting:e.starting,quadrant:e.quadrant},null,8,["data","starting","quadrant"])):W("",!0)],4))}},ft=g("div",null,"123",-1),gt=g("div",null,"123",-1),vt=g("div",null,"123",-1),ht=g("div",null,"123",-1),pt=g("div",null,"123",-1),yt=g("div",null,"123",-1),bt=[ft,gt,vt,ht,pt,yt],wt=g("div",{class:"z--1 absolute w-100vw h-100vh"},null,-1),xt=g("div",{class:"op-0 w-0 h-0 overflow-hidden"},[g("div",{class:"i-bx-bxl-google"}),g("div",{class:"i-bx-bxl-baidu"}),g("div",{class:"i-bx-bxl-bing"})],-1),mt={class:"flex flex-row flex-warp justify-start items-center gap-2.1"},kt=["onClick"],St=["placeholder"],_t=g("div",{class:"i-bx-search-alt w-full h-full"},null,-1),Ct=[_t],Mt={__name:"Index",setup(e){const{x:n,y:t}=Ae();De();const o=m(null),{x:i,y:l,width:h,height:d}=ee(o),r=Z(),s=m(""),v=T=>{r.set({search:{engine:{use:JSON.parse(JSON.stringify(r.config.search.engine.list[T]))}}})},f=()=>{s.value&&console.log(s.value)},w=()=>{if(s.value){let T=r.config.search.engine.use.url.replace("{keyword}",s.value);r.config.search.openingMethod==="newTab"?window.open(T):r.config.search.openingMethod==="currentTab"&&(window.location.href=T)}s.value=""},x=m(null),{width:A,height:k}=Ne(x),N=m(null),p=m(!1),S=m({});ue(N,()=>{p.value=!1});const E=T=>{T.preventDefault();let C={x:n.value,y:t.value,sx:A.value/2>n.value?"r":"l",sy:k.value/2>t.value?"b":"t"},F,$,u,B;C.sx=="r"?u=C.x+"px":B=A.value-C.x+"px",C.sy=="b"?F=C.y+"px":$=k.value-C.y+"px",S.value={left:u,right:B,top:F,bottom:$},p.value=!0};return(T,C)=>{const F=Fe;return M(),D("div",{ref_key:"el",ref:x,class:"template",onContextmenu:Q(E,["right"])},[p.value?(M(),D("div",{key:0,ref_key:"rightMenuRef",ref:N,class:"z-99 absolute bg-stone-500 op-91 rounded-7px box-border p-14px overflow-hidden grid grid-rows-2 grid-flow-col gap-14px",style:_(S.value)},bt,4)):W("",!0),wt,g("div",{ref:"searchBox",class:"absolute box-border flex flex-row justify-center items-center duration-700 bg-stone-200 bg-op-21 dark:bg-stone-700 dark:bg-op-21",style:_(c(r).config.search.style)},[g("div",{style:_({width:c(r).config.search.spacing.left})},null,4),xt,X(F,{placement:"bottom-start",width:"auto"},{reference:j(()=>[g("div",{class:"cursor-pointer box-border p-5px rounded-50% duration-350 bg-stone-300 bg-op-21 dark:bg-stone-600 dark:bg-op-21 hover:bg-op-62 active:bg-op-7",style:_({width:c(r).config.search.input.style.height,height:c(r).config.search.input.style.height})},[g("div",{class:ie([c(r).config.search.engine.use.icon,"w-full h-full"])},null,2)],4)]),default:j(()=>[g("div",mt,[(M(!0),D(U,null,G(c(r).config.search.engine.list,($,u)=>(M(),D("div",{key:u,onClick:B=>v(u),class:"cursor-pointer box-border p-5px rounded-50% duration-350 bg-stone-300 bg-op-21 dark:bg-stone-600 dark:bg-op-21 hover:bg-op-62 active:bg-op-7",style:_({width:c(r).config.search.input.style.height,height:c(r).config.search.input.style.height})},[g("div",{class:ie([$.icon,"w-full h-full"])},null,2)],12,kt))),128))])]),_:1}),g("div",{style:_({width:c(r).config.search.spacing.left})},null,4),g("div",{class:"box-border",style:_(c(r).config.search.input.style)},[Be(g("input",{onInput:C[0]||(C[0]=$=>f()),"onUpdate:modelValue":C[1]||(C[1]=$=>s.value=$),class:"box-border block w-full h-full bg-transparent outline-none border-none active:bg-transparent active:outline-none active:border-none",placeholder:c(r).config.search.input.placeholder,type:"text"},null,40,St),[[$e,s.value]])],4),g("div",{style:_({width:c(r).config.search.spacing.right})},null,4),g("div",{onClick:C[2]||(C[2]=$=>w()),class:"cursor-pointer box-border p-5px rounded-50% duration-350 bg-stone-300 bg-op-21 dark:bg-stone-600 dark:bg-op-21 hover:bg-op-62 active:bg-op-7",style:_({width:c(r).config.search.input.style.height,height:c(r).config.search.input.style.height})},Ct,4),g("div",{style:_({width:c(r).config.search.spacing.right})},null,4)],4),g("div",{class:"box-border w-100vw h-100vh flex-auto flex flex-col select-none",style:_({paddingTop:c(r).config.body.top,paddingBottom:c(r).config.body.bottom,paddingLeft:c(r).config.body.left,paddingRight:c(r).config.body.right})},[g("div",{ref_key:"listBox",ref:o,class:"w-full h-full"},[X(pe,{data:c(r).config.list,starting:{x:c(i),y:c(l),w:c(h),h:c(d)},quadrant:1},null,8,["data","starting"])],512)],4)],544)}}};export{Mt as default};
